## How to run an ASR experiment with mTEDx
To train a full speech recognition system the pipeline is the following:

1. **Train a tokenizer.** The tokenizer takes in input the training transcripts and determines the subword units that will be used for both acoustic and language model training. **Training a tokenizer before the language and acoustic model is necessary**. Indeed, both of them will reuse this tokenizer to map the output tokens.
2. **Train a Language Model (LM).** The language model takes in input long texts from available mTEDx text data. We have a recipe for RNN language model. The LM is used during beam search to assign different weights to different hypotheses generated by the acoustic model.
3. **Train an acoustic model (AM).** The acoustic model maps the input speech into a set of sub-words units. The current repository contains recipes for transducers, and transformer-based systems.

## How to download the data

You can download [mTEDx data](http://www.openslr.org/100) by running the
following [bash script](https://github.com/Anwarvic/mTEDx_auxiliary/blob/main/download_mtedx.sh):
```bash
bash download_mtedx.sh
```

## How the data should look like

After downloading the audio data, you need to process the audio data and split
the whole talks into different segments and align it with the correct text.
All of that can be done by running this
[python script](https://github.com/Anwarvic/mTEDx_auxiliary/blob/main/process_mtedx.py):
```
python process_mtedx.py \
  --in [IN_DATA_PATH] \
  --out [OUT_DATA_PATH] \
  --langs [LANGS] \
  --groups [GROUPS]

```
For example:
```
python process_mtedx.py \
  --in /scratch/1/user/manwar/data/mTEDx_downloaded \
  --out /scratch/1/user/manwar/data/mTEDx \
  --langs ar de el es fr it pt ru\
  --groups test valid train
```

This will process all audio data and organize it in the following tree:
```text
mTEDx
├── ar
│   ├── test
│   ├── test.json
│   ├── train
│   ├── train.json
│   ├── valid
│   └── valid.json
├── de
│   ├── test
│   ├── test.json
│   ├── train
│   ├── train.json
│   ├── valid
│   └── valid.json
├── el
│   ├── test
│   ├── test.json
│   ├── train
│   ├── train.json
│   ├── valid
│   └── valid.json
├── es
│   ├── test
│   ├── test.json
│   ├── train
│   ├── train.json
│   ├── valid
│   └── valid.json
├── fr
│   ├── test
│   ├── test.json
│   ├── train
│   ├── train.json
│   ├── valid
│   └── valid.json
├── it
│   ├── test
│   ├── test.json
│   ├── train
│   ├── train.json
│   ├── valid
│   └── valid.json
├── pt
│   ├── test
│   ├── test.json
│   ├── train
│   ├── train.json
│   ├── valid
│   └── valid.json
└── ru
    ├── test
    ├── test.json
    ├── train
    ├── train.json
    ├── valid
    └── valid.json
```

# **About SpeechBrain**
- Website: https://speechbrain.github.io/
- Code: https://github.com/speechbrain/speechbrain/
- HuggingFace: https://huggingface.co/speechbrain/


# **Citing SpeechBrain**
Please, cite SpeechBrain if you use it for your research or business.

```bibtex
@misc{speechbrain,
  title={{SpeechBrain}: A General-Purpose Speech Toolkit},
  author={Mirco Ravanelli and Titouan Parcollet and Peter Plantinga and Aku Rouhe and Samuele Cornell and Loren Lugosch and Cem Subakan and Nauman Dawalatabad and Abdelwahab Heba and Jianyuan Zhong and Ju-Chieh Chou and Sung-Lin Yeh and Szu-Wei Fu and Chien-Feng Liao and Elena Rastorgueva and François Grondin and William Aris and Hwidong Na and Yan Gao and Renato De Mori and Yoshua Bengio},
  year={2021},
  eprint={2106.04624},
  archivePrefix={arXiv},
  primaryClass={eess.AS},
  note={arXiv:2106.04624}
}
```